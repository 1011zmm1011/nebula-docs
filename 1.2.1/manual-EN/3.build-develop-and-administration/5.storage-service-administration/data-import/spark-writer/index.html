
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Documentation for Nebula Graph Database" name="description"/>
<meta content="Nebula Graph" name="author"/>
<link href="https://docs.nebula-graph.io/manual-EN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/" rel="canonical"/>
<link href="../../../../../assets/images/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-7.1.1" name="generator"/>
<title>Spark Writer - Nebula Graph Database Manual</title>
<link href="../../../../../assets/stylesheets/main.9299cb39.min.css" rel="stylesheet"/>
<link href="../../../../../assets/stylesheets/palette.ef6f36e2.min.css" rel="stylesheet"/>
<meta content="#ffc105" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<link href="../../../../../stylesheets/logo.css" rel="stylesheet"/>
<link href="../../../../../css/version-select.css" rel="stylesheet"/>
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-60523578-16","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
</head>
<body data-md-color-accent="amber" data-md-color-primary="amber" data-md-color-scheme="" dir="ltr">
<script>function __prefix(e){return new URL("../../../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#spark_writer">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Nebula Graph Database Manual" class="md-header__button md-logo" data-md-component="logo" href="../../../../.." title="Nebula Graph Database Manual">
<img alt="logo" src="https://cloud-cdn.nebula-graph.com.cn/vesoft-nebula-logo-white.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Nebula Graph Database Manual
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Spark Writer
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/vesoft-inc/nebula-docs/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    vesoft-inc/nebula-docs
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Nebula Graph Database Manual" class="md-nav__button md-logo" data-md-component="logo" href="../../../../.." title="Nebula Graph Database Manual">
<img alt="logo" src="https://cloud-cdn.nebula-graph.com.cn/vesoft-nebula-logo-white.png"/>
</a>
    Nebula Graph Database Manual
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/vesoft-inc/nebula-docs/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    vesoft-inc/nebula-docs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1">
        Overview
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Overview" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Overview
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../0.about-this-manual/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../">
        Documentation Index
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" id="__nav_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3">
        Concepts
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Concepts" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_3">
<span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/1.concepts/1.data-model/">
        Data Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/1.concepts/2.nGQL-overview/">
        nGQL Overview
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" id="__nav_1_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_4">
        Quick Start
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Quick Start" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_4">
<span class="md-nav__icon md-icon"></span>
          Quick Start
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/2.quick-start/1.get-started/">
        Get Started
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/2.quick-start/2.FAQ/">
        FAQ
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/2.quick-start/3.supported-clients/">
        Supported Clients
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../1.build/1.build-source-code/">
        Build Source Code
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../import-csv-file/">
        Import .csv File
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_5" id="__nav_1_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_5">
        Design and Architecture
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Design and Architecture" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_5">
<span class="md-nav__icon md-icon"></span>
          Design and Architecture
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/3.design-and-architecture/1.design-and-architecture/">
        Design and Architecture
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/3.design-and-architecture/2.storage-design/">
        Storage Design
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/3.design-and-architecture/3.query-engine/">
        Query Engine
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
        Query Language
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Query Language" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Query Language
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/0.README/">
        Introduction
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2">
        Data Types
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Types" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          Data Types
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/1.data-types/data-types/">
        Data Types
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/1.data-types/type-conversion/">
        Type Conversion
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3">
        Functions and Operators
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Functions and Operators" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          Functions and Operators
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/bitwise-operators/">
        Bitwise Operators
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/built-in-functions/">
        Built in Functions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/comparison-functions-and-operators/">
        Comparison Functions and Operators
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/group-by-function/">
        GROUP BY
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/limit-syntax/">
        LIMIT Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/logical-operators/">
        Logical Operators
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/operator-precedence/">
        Operator Precedence
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/order-by-function/">
        ORDER BY Function
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/set-operations/">
        Set Operations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/string-comparison-functions-and-operators/">
        String Comparison Functions and Operators
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/2.functions-and-operators/uuid/">
        UUID Function
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4">
        Language Structure
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Language Structure" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          Language Structure
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4_1" id="__nav_2_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4_1">
        Literal Values
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Literal Values" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_4_1">
<span class="md-nav__icon md-icon"></span>
          Literal Values
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/literal-values/boolean-literals/">
        Boolean Literals
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/literal-values/numeric-literals/">
        Numeric Literals
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/literal-values/string-literals/">
        String Literals
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/comment-syntax/">
        Comment Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/identifier-case-sensitivity/">
        Identifer Case Sensitivity
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/keywords-and-reserved-words/">
        Keywords and Reserved Words
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/pipe-syntax/">
        Pipe Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/property-reference/">
        Property Reference
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/schema-object-names/">
        Schema Object Names
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/statement-composition/">
        Statement Composition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/3.language-structure/user-defined-variables/">
        User Defined Variables
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5">
        Statement Syntax
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Statement Syntax" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
          Statement Syntax
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5_1" id="__nav_2_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5_1">
        Data Definition Statements
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Definition Statements" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_5_1">
<span class="md-nav__icon md-icon"></span>
          Data Definition Statements
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/alter-edge-syntax/">
        ALTER EDGE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/alter-tag-syntax/">
        ALTER TAG Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/">
        CREATE SPACE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/">
        CREATE EDGE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/">
        CREATE TAG Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/drop-edge-syntax/">
        DROP EDGE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/drop-tag-syntax/">
        DROP TAG Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/drop-space-syntax/">
        DROP SPACE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/">
        INDEX Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/1.data-definition-statements/TTL/">
        TTL
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5_2" id="__nav_2_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5_2">
        Data Query and Manipulation Statements
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Query and Manipulation Statements" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_5_2">
<span class="md-nav__icon md-icon"></span>
          Data Query and Manipulation Statements
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/delete-edge-syntax/">
        DELETE EDGE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/delete-vertex-syntax/">
        DELETE VERTEX Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/fetch-syntax/">
        FETCH Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/">
        GO Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-edge-syntax/">
        INSERT EDGE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-vertex-syntax/">
        INSERT VERTEX Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/lookup-syntax/">
        LOOKUP Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/return-syntax/">
        RETURN Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/update-edge-syntax/">
        UPDATE EDGE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/update-vertex-syntax/">
        UPDATE VERTEX Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/upsert-syntax/">
        UPSERT Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/where-syntax/">
        WHERE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/yield-syntax/">
        YIELD Syntax
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5_3" id="__nav_2_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5_3">
        Utility Statements
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Utility Statements" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_5_3">
<span class="md-nav__icon md-icon"></span>
          Utility Statements
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5_3_1" id="__nav_2_5_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5_3_1">
        SHOW Statements
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="SHOW Statements" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_5_3_1">
<span class="md-nav__icon md-icon"></span>
          SHOW Statements
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-charset-syntax/">
        SHOW CHARSET Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-collation-syntax/">
        SHOW COLLATION Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-configs-syntax/">
        SHOW CONFIGS Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-create-space-syntax/">
        SHOW CREATE SPACE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-create-tag-edge-syntax/">
        SHOW CREATE TAG EDGE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-hosts-syntax/">
        SHOW HOSTS Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-indexes-syntax/">
        SHOW INDEXES Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-parts-syntax/">
        SHOW PARTS Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-roles-syntax/">
        SHOW ROLES Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-snapshots-syntax/">
        SHOW SNAPSHOTS Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-spaces-syntax/">
        SHOW SPACES Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-tags-edges-syntax/">
        SHOW TAGS EDGES Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-users-syntax/">
        SHOW USERS Syntax
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/describe-syntax/">
        DESCRIBE Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/3.utility-statements/use-syntax/">
        USE Syntax
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5_4" id="__nav_2_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5_4">
        Graph Algorithm
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Graph Algorithm" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_5_4">
<span class="md-nav__icon md-icon"></span>
          Graph Algorithm
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../2.query-language/4.statement-syntax/4.graph-algorithms/find-path-syntax/">
        FIND PATH Syntax
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
        Build Develop and Administration
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Build Develop and Administration" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Build Develop and Administration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1">
        Build
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Build" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
          Build
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../1.build/1.build-source-code/">
        Build Source Code
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../1.build/2.build-by-docker/">
        Build by Docker
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
        Installation
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Installation" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          Installation
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../2.install/1.install-with-rpm-deb/">
        rpm Installation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../2.install/2.start-stop-service/">
        Start and Stop Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../2.install/deploy-nebula-with-swarm/">
        Deploying Cluster
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../2.install/3.install-with-docker/">
        Docker Installation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3">
        Configuration
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Configuration" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/0.system-requirement/">
        System Requirement
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/1.config-persistency-and-priority/">
        Config Persistency and Priority
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/2.configs-syntax/">
        CONFIG Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/3.meta-config/">
        Metad Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/4.graph-config/">
        Graphd Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/5.storage-config/">
        Storaged Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/6.console-config/">
        Console Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/7.kernel-config/">
        Kernel Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../3.configurations/8.single-node-log/">
        Change Log Severity on a Host
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4">
        Account Management Statement
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Account Management Statement" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
          Account Management Statement
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/alter-user-syntax/">
        Alter User Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/authentication/">
        Authentication
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/built-in-roles/">
        Built-in Roles
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/change-password/">
        Change Password
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/create-user-syntax/">
        Create User
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/drop-user-syntax/">
        Drop User
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/grant-role-syntax/">
        Grant Role
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/LDAP/">
        LDAP
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../4.account-management-statements/revoke-syntax/">
        Revoke
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5">
        Batch Data Management
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Batch Data Management" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
          Batch Data Management
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5_1" id="__nav_3_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_1">
        Data Import
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Import" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_5_1">
<span class="md-nav__icon md-icon"></span>
          Data Import
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../import-csv-file/">
        Import .csv File
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Spark Writer
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Spark Writer
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
    Overview
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prerequisites">
    Prerequisites
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get_spark_writer">
    Get Spark Writer
  </a>
<nav aria-label="Get Spark Writer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#from_source_code">
    From Source Code
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#download_from_cloud_storage_oss">
    Download From Cloud Storage OSS
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user_guide">
    User Guide
  </a>
<nav aria-label="User Guide" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create_graph_space">
    Create Graph Space
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_data">
    Example Data
  </a>
<nav aria-label="Example Data" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vertices">
    Vertices
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#edges">
    Edges
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#spatial_data_geo">
    Spatial Data Geo
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data_source_files">
    Data Source Files
  </a>
<nav aria-label="Data Source Files" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#hdfs_files">
    HDFS Files
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#database">
    Database
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#write_configuration_files">
    Write Configuration Files
  </a>
<nav aria-label="Write Configuration Files" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#spark_properties">
    Spark Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nebula_graph_configuration">
    Nebula Graph Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping_of_tags_and_edges">
    Mapping of Tags and Edges
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data_source_mapping">
    Data Source Mapping
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#import_data">
    Import Data
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance">
    Performance
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5_2" id="__nav_3_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_2">
        Data Export
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Export" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_5_2">
<span class="md-nav__icon md-icon"></span>
          Data Export
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../data-export/dump-tool/">
        Dump Tool
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../storage-balance/">
        Storage Balance
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cluster-snapshot/">
        Cluster Snapshot
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../job-manager/">
        Long Time-Consuming Task Management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../compact/">
        Compact
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6">
        Monitoring and Statistics
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Monitoring and Statistics" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
          Monitoring and Statistics
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../7.monitor/1.metrics-exposer/">
        Metrics
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../7.monitor/2.meta-metrics/">
        Meta Metrics
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../7.monitor/3.storage-metrics/">
        Storage Metrics
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../7.monitor/4.graph-metrics/">
        Graph Metrics
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../7.monitor/5.rocksdb-statistics/">
        RocksDB Statistics
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" id="__nav_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7">
        Development and API
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Development and API" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
          Development and API
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../1.overview/2.quick-start/3.supported-clients/">
        Nebula Graph Clients
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
        Data Migration
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Migration" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Data Migration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1">
        Nebula Exchange
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Nebula Exchange" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
          Nebula Exchange
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1_1" id="__nav_4_1_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_1">
        About Nebula Exchange
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="About Nebula Exchange" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_1">
<span class="md-nav__icon md-icon"></span>
          About Nebula Exchange
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/about-exchange/ex-ug-what-is-exchange/">
        What is Nebula Exchange
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/about-exchange/ex-ug-limitations/">
        Limitations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/about-exchange/ex-ug-terms/">
        Glossary
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/about-exchange/ex-ug-faq/">
        FAQ
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/ex-ug-compile/">
        Compile Exchange
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1_3" id="__nav_4_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_3">
        Examples
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Examples" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_3">
<span class="md-nav__icon md-icon"></span>
          Examples
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/use-exchange/ex-ug-import-steps/">
        Use Exchange
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/use-exchange/ex-ug-import-from-csv/">
        Import data from CSV files
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/use-exchange/ex-ug-import-json/">
        Import data from JSON files
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/use-exchange/ex-ug-import-hive/">
        Import data from HIVE
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1_4" id="__nav_4_1_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_4">
        Parameter reference
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Parameter reference" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_4">
<span class="md-nav__icon md-icon"></span>
          Parameter reference
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/parameter-reference/ex-ug-paras-spark/">
        Spark related parameters
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/parameter-reference/ex-ug-paras-nebulagraph/">
        Nebula Graph related parameters
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-exchange/parameter-reference/ex-ug-para-import-command/">
        Import command parameters
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
        Nebula Graph Studio
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Nebula Graph Studio" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Nebula Graph Studio
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" id="__nav_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1">
        About Nebula Graph Studio
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="About Nebula Graph Studio" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
          About Nebula Graph Studio
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/about-studio/st-ug-what-is-graph-studio/">
        What is Studio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/about-studio/st-ug-limitations/">
        Limitations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/about-studio/st-ug-check-updates/">
        Check updates
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2">
        Deploy and connect
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Deploy and connect" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Deploy and connect
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/install-configure/st-ug-deploy/">
        Deploy Studio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/install-configure/st-ug-connect/">
        Connect to Nebula Graph
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3">
        Quick start
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Quick start" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
          Quick start
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/quick-start/st-ug-plan-schema/">
        Design a schema
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/quick-start/st-ug-prepare-csv/">
        Prepare CSV files
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/quick-start/st-ug-create-schema/">
        Create a schema
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/quick-start/st-ug-import-data/">
        Import data
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/quick-start/st-ug-explore/">
        Query graph data
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4">
        Operation guide
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Operation guide" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
          Operation guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4_1" id="__nav_5_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4_1">
        Use Schema
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Use Schema" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_4_1">
<span class="md-nav__icon md-icon"></span>
          Use Schema
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/manage-schema/st-ug-crud-space/">
        Operate graph spaces
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/manage-schema/st-ug-crud-tag/">
        Operate tags
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/manage-schema/st-ug-crud-edge-type/">
        Operate edge types
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/manage-schema/st-ug-crud-index/">
        Operate indexes
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4_2" id="__nav_5_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4_2">
        Use Console
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Use Console" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_4_2">
<span class="md-nav__icon md-icon"></span>
          Use Console
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/use-console/st-ug-open-in-explore/">
        Open in Explore
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../nebula-studio/use-console/st-ug-visualize-findpath/">
        View subgraphs
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
        Contributions
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Contributions" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Contributions
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../4.contributions/contribute-to-documentation/">
        Contribute to Documentation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../4.contributions/cpp-coding-style/">
        cpp Coding Style
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../4.contributions/how-to-contribute/">
        How to Contribute
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../4.contributions/pull-request-commit-message-guidelines/">
        Pull Request and Commit Message Guidelines
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
        Appendix
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Appendix" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Appendix
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../5.appendix/cypher-ngql/">
        Cypher &amp; nGQL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../5.appendix/gremlin-ngql/">
        Gremlin &amp; nGQL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../5.appendix/sql-ngql/">
        SQL &amp; nGQL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../5.appendix/vid-partition/">
        Vertex Identifier and Partition
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://docs.nebula-graph.com.cn/">
        中文手册
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../../pdf/NebulaGraph-EN.pdf">
        PDF
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
    Overview
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prerequisites">
    Prerequisites
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get_spark_writer">
    Get Spark Writer
  </a>
<nav aria-label="Get Spark Writer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#from_source_code">
    From Source Code
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#download_from_cloud_storage_oss">
    Download From Cloud Storage OSS
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user_guide">
    User Guide
  </a>
<nav aria-label="User Guide" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create_graph_space">
    Create Graph Space
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_data">
    Example Data
  </a>
<nav aria-label="Example Data" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vertices">
    Vertices
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#edges">
    Edges
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#spatial_data_geo">
    Spatial Data Geo
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data_source_files">
    Data Source Files
  </a>
<nav aria-label="Data Source Files" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#hdfs_files">
    HDFS Files
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#database">
    Database
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#write_configuration_files">
    Write Configuration Files
  </a>
<nav aria-label="Write Configuration Files" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#spark_properties">
    Spark Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nebula_graph_configuration">
    Nebula Graph Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping_of_tags_and_edges">
    Mapping of Tags and Edges
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data_source_mapping">
    Data Source Mapping
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#import_data">
    Import Data
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance">
    Performance
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/vesoft-inc/nebula-docs/edit/v1.2.1/docs-1.1/manual-EN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="spark_writer">Spark Writer<a class="headerlink" href="#spark_writer" title="Permanent link">¶</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>Spark Writer is a Spark-based distributed data importer for <a href="https://github.com/vesoft-inc/nebula">Nebula Graph</a>. It converts data from multiple data sources into vertices and edges for graphs and batch imports data into the graph database. Currently, the supported data sources are:</p>
<ul>
<li>HDFS, including Parquet, JSON, ORC and CSV</li>
<li>HIVE</li>
</ul>
<p>Spark Writer supports concurrent importing multiple tags and edges, and configuring different data sources for different tags and edges.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>NOTE</strong>: To use <strong>Nebula Graph Spark Writer</strong>, please make sure you have:</p>
</blockquote>
<ul>
<li>Spark 2.0 or above</li>
<li>Hive 2.3 or above</li>
<li>Hadoop 2.0 or above</li>
</ul>
<h2 id="get_spark_writer">Get Spark Writer<a class="headerlink" href="#get_spark_writer" title="Permanent link">¶</a></h2>
<h3 id="from_source_code">From Source Code<a class="headerlink" href="#from_source_code" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>git clone https://github.com/vesoft-inc/nebula.git
<span class="nb">cd</span> nebula/src/tools/spark-sstfile-generator
mvn compile package
</code></pre></div>
<p>Or you can download from OSS.</p>
<h3 id="download_from_cloud_storage_oss">Download From Cloud Storage OSS<a class="headerlink" href="#download_from_cloud_storage_oss" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>wget https://oss-cdn.nebula-graph.io/jar-packages/sst.generator-1.2.1-beta.jar
</code></pre></div>
<h2 id="user_guide">User Guide<a class="headerlink" href="#user_guide" title="Permanent link">¶</a></h2>
<p>This section includes the following steps:</p>
<ol>
<li>Create a graph space and its schema in Nebula Graph</li>
<li>Write data files</li>
<li>Write input source mapping file</li>
<li>Import data</li>
</ol>
<h3 id="create_graph_space">Create Graph Space<a class="headerlink" href="#create_graph_space" title="Permanent link">¶</a></h3>
<p>Please refer to the example graph in <a href="../../../../1.overview/2.quick-start/1.get-started/">Quick Start</a>.</p>
<blockquote>
<p><strong>NOTE</strong>: Please create a space and define the schema in Nebula Graph first, then use this tool to import data to Nebula Graph.</p>
</blockquote>
<h3 id="example_data">Example Data<a class="headerlink" href="#example_data" title="Permanent link">¶</a></h3>
<h4 id="vertices">Vertices<a class="headerlink" href="#vertices" title="Permanent link">¶</a></h4>
<p>A vertex data file consists of multiple rows. Each line in the file represents a vertex and its properties. In general, the first column is the ID of the vertex. This ID column is specified in the mapping file. The other columns are the properties of the vertex. Consider the following example in JSON format.</p>
<ul>
<li><strong>Player</strong> data</li>
</ul>
<div class="highlight"><pre><span></span><code>{"id":100,"name":"Tim Duncan","age":42}
{"id":101,"name":"Tony Parker","age":36}
{"id":102,"name":"LaMarcus Aldridge","age":33}
</code></pre></div>
<h4 id="edges">Edges<a class="headerlink" href="#edges" title="Permanent link">¶</a></h4>
<p>An edge data file consists of multiple rows. Each line in the file represents a point and its properties. In general, the first column is the ID of the source vertex, the second column is the ID of the destination vertex. These ID columns are specified in the mapping file. Other columns are the properties of the edge. Consider the following example in JSON format.</p>
<p>Take edge <em><strong>follow</strong></em> as example:</p>
<ul>
<li>Edge without rank</li>
</ul>
<div class="highlight"><pre><span></span><code>{"source":100,"target":101,"likeness":95}
{"source":101,"target":100,"likeness":95}
{"source":101,"target":102,"likeness":90}
</code></pre></div>
<ul>
<li>Edge with rank</li>
</ul>
<div class="highlight"><pre><span></span><code>{"source":100,"target":101,"likeness":95,"ranking":2}
{"source":101,"target":100,"likeness":95,"ranking":1}
{"source":101,"target":102,"likeness":90,"ranking":3}
</code></pre></div>
<h4 id="spatial_data_geo">Spatial Data Geo<a class="headerlink" href="#spatial_data_geo" title="Permanent link">¶</a></h4>
<p>Spark Writer supports importing Geo data. Geo data contains <strong>latitude</strong> and <strong>longitude</strong>, and the data type is double.</p>
<div class="highlight"><pre><span></span><code>{"latitude":30.2822095,"longitude":120.0298785,"target":0,"dp_poi_name":"0"}
{"latitude":30.2813834,"longitude":120.0208692,"target":1,"dp_poi_name":"1"}
{"latitude":30.2807347,"longitude":120.0181162,"target":2,"dp_poi_name":"2"}
{"latitude":30.2812694,"longitude":120.0164896,"target":3,"dp_poi_name":"3"}
</code></pre></div>
<h4 id="data_source_files">Data Source Files<a class="headerlink" href="#data_source_files" title="Permanent link">¶</a></h4>
<p>The currently supported data sources by Spark Writer are:</p>
<ul>
<li>HDFS</li>
<li>HIVE</li>
</ul>
<h5 id="hdfs_files">HDFS Files<a class="headerlink" href="#hdfs_files" title="Permanent link">¶</a></h5>
<p>HDFS supports the following file formats:</p>
<ul>
<li>Parquet</li>
<li>JSON</li>
<li>CSV</li>
<li>ORC</li>
</ul>
<p>Player data in Parquet format:</p>
<div class="highlight"><pre><span></span><code>+-------+---+---------+
|age| id|        name|
+-------+---+---------+
| 42|100| Tim Duncan |
| 36|101| Tony Parker|
+-------+---+---------+
</code></pre></div>
<p>In JSON:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Tim Duncan"</span><span class="p">,</span><span class="nt">"age"</span><span class="p">:</span><span class="mi">42</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">101</span><span class="p">,</span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Tony Parker"</span><span class="p">,</span><span class="nt">"age"</span><span class="p">:</span><span class="mi">36</span><span class="p">}</span>
</code></pre></div>
<p>In CSV:</p>
<div class="highlight"><pre><span></span><code>age,id,name
42,100,Tim Duncan
36,101,Tony Parker
</code></pre></div>
<h5 id="database">Database<a class="headerlink" href="#database" title="Permanent link">¶</a></h5>
<p>Spark Writer supports database as the data source, and only HIVE is available now.</p>
<p>Player format as follows:</p>
<table>
<thead>
<tr>
<th>col_name</th>
<th>data_type</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>age</td>
<td>int</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="write_configuration_files">Write Configuration Files<a class="headerlink" href="#write_configuration_files" title="Permanent link">¶</a></h3>
<p>The configuration files consist of the Spark field, the Nebula Graph field, the tags mapping field, and the edges mapping field. The Spark related parameters are configured in the Spark field. The username and password information for Nebula Graph are configured in the Nebula Graph field. Basic data source information for each tag or edge is described in the tag/edge mapping field. The tag/edge mapping field corresponds to multiple tag/edge inputting sources. Different tag/edge can come from different data sources.</p>
<p>Example of a mapping file for the input source:</p>
<div class="highlight"><pre><span></span><code><span class="o">{</span>
  <span class="c1"># Spark related configurations.</span>
  <span class="c1"># See also: http://spark.apache.org/docs/latest/configuration.html</span>
  spark: <span class="o">{</span>
    app: <span class="o">{</span>
      name: Spark Writer
    <span class="o">}</span>

    driver: <span class="o">{</span>
      cores: <span class="m">1</span>
      maxResultSize: 1G
    <span class="o">}</span>

    cores <span class="o">{</span>
      max: <span class="m">16</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="c1"># Nebula Graph related configurations.</span>
  nebula: <span class="o">{</span>
    <span class="c1"># Query engine IP list  </span>
    addresses: <span class="o">[</span><span class="s2">"127.0.0.1:3699"</span><span class="o">]</span>

    <span class="c1"># Username and password to connect to Nebula Graph service</span>
    user: user
    pswd: password

    <span class="c1"># Graph space name for Nebula Graph</span>
    space: <span class="nb">test</span>

    <span class="c1"># The thrift connection timeout and retry times.</span>
    <span class="c1"># If no configurations are set, the default values are 3000 and 3 respectively.</span>
    connection <span class="o">{</span>
      timeout: <span class="m">3000</span>
      retry: <span class="m">3</span>
    <span class="o">}</span>

  <span class="c1"># The nGQL execution retry times.</span>
  <span class="c1"># If no configuration is set, the default value is 3.</span>
    execution <span class="o">{</span>
      retry: <span class="m">3</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="c1"># Processing tags</span>
  tags: <span class="o">[</span>

    <span class="c1"># Loading tag from HDFS and the data type is parquet.</span>
    <span class="c1"># The tag's name is tag_name_0.</span>
    <span class="c1"># field_0, field_1 and field_2 from HDFS's Parquet file are written into tag_name_0</span>
    <span class="c1"># and the vertex column is vertex_key_field.</span>
    <span class="o">{</span>
      name: tag_name_0
      type: parquet
      path: hdfs_path
      fields: <span class="o">{</span>
        field_0: nebula_field_0,
        field_1: nebula_field_1,
        field_2: nebula_field_2
      <span class="o">}</span>
      vertex: vertex_key_field
      batch : <span class="m">16</span>
    <span class="o">}</span>

    <span class="c1"># Similar to the preceding section.</span>
    <span class="c1"># Loaded from Hive. The execution command $ {EXEC} is the dataset.</span>
    <span class="o">{</span>
      name: tag_name_1
      type: hive
      exec: <span class="s2">"select hive_field_0, hive_field_1, hive_field_2 from database.table"</span>
      fields: <span class="o">{</span>
        hive_field_0: nebula_field_0,
        hive_field_1: nebula_field_1,
        hive_field_2: nebula_field_2
      <span class="o">}</span>
      vertex: vertex_id_field
    <span class="o">}</span>
  <span class="o">]</span>

  <span class="c1"># Processing edges</span>
  edges: <span class="o">[</span>
    <span class="c1"># Loading edge from HDFS and data type is JSON.</span>
    <span class="c1"># The edge's name is edge_name_0.</span>
    <span class="c1"># field_0, field_1 and field_2 from HDFS's JSON file are written into edge_name_0</span>
    <span class="c1"># The source column is source_field, target column is target_field and ranking column is ranking_field.</span>
    <span class="o">{</span>
      name: edge_name_0
      type: json
      path: hdfs_path
      fields: <span class="o">{</span>
        field_0: nebula_field_0,
        field_1: nebula_field_1,
        field_2: nebula_field_2
      <span class="o">}</span>
      source:  source_field
      target:  target_field
      ranking: ranking_field
    <span class="o">}</span>

    <span class="c1"># Loading from Hive will execute command ${exec} as data set.</span>
    <span class="c1"># Ranking is optional.</span>
    <span class="o">{</span>
      name: edge_name_1
      type: hive
      exec: <span class="s2">"select hive_field_0, hive_field_1, hive_field_2 from database.table"</span>
      fields: <span class="o">{</span>
        hive_field_0: nebula_field_0,
        hive_field_1: nebula_field_1,
        hive_field_2: nebula_field_2
      <span class="o">}</span>
      source:  source_id_field
      target:  target_id_field
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="spark_properties">Spark Properties<a class="headerlink" href="#spark_properties" title="Permanent link">¶</a></h4>
<p>The following table gives some example properties, all of which can be found in <a href="http://spark.apache.org/docs/latest/configuration.html#available-properties">Spark Available Properties</a>.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>spark.app.name</td>
<td>Spark Writer</td>
<td>No</td>
<td>The name of your application</td>
</tr>
<tr>
<td>spark.driver.cores</td>
<td>1</td>
<td>No</td>
<td>Number of cores to use for the driver process, only in cluster mode.</td>
</tr>
<tr>
<td>spark.driver.maxResultSize</td>
<td>1G</td>
<td>No</td>
<td>Limit of total size of serialized results of all partitions for each Spark action (e.g. collect) in bytes. It must be at least 1M, or 0 for unlimited.</td>
</tr>
<tr>
<td>spark.cores.max</td>
<td>(not set)</td>
<td>No</td>
<td>When running on a standalone deploy cluster or a Mesos cluster in "coarse-grained" sharing mode, the maximum amount of CPU cores to request for the application from across the cluster (not from each machine). If not set, the default will be <code>spark.deploy.defaultCores</code> on Spark's standalone cluster manager, or infinite (all available cores) on Mesos.</td>
</tr>
</tbody>
</table>
<h4 id="nebula_graph_configuration">Nebula Graph Configuration<a class="headerlink" href="#nebula_graph_configuration" title="Permanent link">¶</a></h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Default Value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>nebula.addresses</td>
<td>/</td>
<td>yes</td>
<td>query engine IP list, separated with comma</td>
</tr>
<tr>
<td>nebula.user</td>
<td>/</td>
<td>yes</td>
<td>user name, the default value is user</td>
</tr>
<tr>
<td>nebula.pswd</td>
<td>/</td>
<td>yes</td>
<td>password, the default <code>user</code> password is  <code>password</code></td>
</tr>
<tr>
<td>nebula.space</td>
<td>/</td>
<td>yes</td>
<td>space to import data, the space name is test in this document</td>
</tr>
<tr>
<td>nebula.connection.timeout</td>
<td>3000</td>
<td>no</td>
<td>Thrift timeout</td>
</tr>
<tr>
<td>nebula.connection.retry</td>
<td>3</td>
<td>no</td>
<td>Thrift retry times</td>
</tr>
<tr>
<td>nebula.execution.retry</td>
<td>3</td>
<td>no</td>
<td>nGQL execution retry times</td>
</tr>
</tbody>
</table>
<h4 id="mapping_of_tags_and_edges">Mapping of Tags and Edges<a class="headerlink" href="#mapping_of_tags_and_edges" title="Permanent link">¶</a></h4>
<p>The options for tag and edge mapping are very similar. The following describes the same options first, and then introduces the unique options of <code>tag mapping</code> and <code>edge mapping</code>.</p>
<ul>
<li><strong>Same Options</strong><ul>
<li><code>type</code> is a case insensitive required field that specifies data type in the context, and currently supports Parquet, JSON, ORC and CSV</li>
<li><code>path</code> is applied to HDFS data source and specifies the absolute path of HDFS file or directory. It is a required field when the type is HDFS</li>
<li><code>exec</code> is applied to Hive data source. It is a required filed when the query type is HIVE</li>
<li><code>fields</code> is a required filed that maps the columns of the data source to properties of tag / edge</li>
</ul>
</li>
</ul>
<ul>
<li><strong>unique options for tag mapping</strong><ul>
<li><code>vertex</code> is a required field that specifies a column as the vertex ID column</li>
</ul>
</li>
<li><strong>unique options for edge mapping</strong><ul>
<li><code>source</code> is a required field that specifies a column in the input source as the <strong>source vertex</strong> ID column</li>
<li><code>target</code> is a required field that specifies a column as the <strong>destination vertex</strong> ID column</li>
<li><code>ranking</code> is an optional field that specifies a column as the edge ranking column when the inserted edge has a ranking value</li>
</ul>
</li>
</ul>
<h4 id="data_source_mapping">Data Source Mapping<a class="headerlink" href="#data_source_mapping" title="Permanent link">¶</a></h4>
<ul>
<li><strong>HDFS Parquet Files</strong><ul>
<li><code>type</code> specifies the input source type. When it is parquet, it is a case insensitive required field</li>
<li><code>path</code> specifies the HDFS file directory. It is a required field that must be the absolute directory</li>
</ul>
</li>
<li><strong>HDFS JSON Files</strong><ul>
<li><code>type</code> specifies the type of the input source. When it is JSON, it is a case insensitive required field</li>
<li><code>path</code> specifies the HDFS file directory. It is a required field that must be absolute directory</li>
</ul>
</li>
<li><strong>HIVE ORC Files</strong><ul>
<li><code>type</code> specifies the input source type. When it is ORC, it is a case insensitive required field</li>
<li><code>path</code> specifies the HDFS file directory. It is a required field that must be the absolute directory</li>
</ul>
</li>
<li><strong>HIVE CSV Files</strong><ul>
<li><code>type</code> specifies the input source type. When it is CSV, it is a case insensitive required field</li>
<li><code>path</code> specifies the HDFS file directory. It is a required field that must be the absolute directory</li>
</ul>
</li>
<li><strong>HIVE</strong><ul>
<li><code>type</code> specifies the input source type. When it is HIVE, it is a case insensitive required field</li>
<li><code>exec</code> is a required field that specifies the HIVE executed query</li>
</ul>
</li>
</ul>
<h3 id="import_data">Import Data<a class="headerlink" href="#import_data" title="Permanent link">¶</a></h3>
<p>Import data with the following command:</p>
<div class="highlight"><pre><span></span><code>bin/spark-submit <span class="se">\</span>
 --class com.vesoft.nebula.tools.generator.v2.SparkClientGenerator <span class="se">\</span>
 --master <span class="si">${</span><span class="nv">MASTER</span><span class="p">-URL</span><span class="si">}</span> <span class="se">\</span>
 <span class="si">${</span><span class="nv">SPARK_WRITER_JAR_PACKAGE</span><span class="si">}</span> -c conf/test.conf -h -d
</code></pre></div>
<p>Parameter descriptions:</p>
<table>
<thead>
<tr>
<th>Abbreviation</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>--class</td>
<td>yes</td>
<td>/</td>
<td>Specify the program's primary class</td>
<td></td>
</tr>
<tr>
<td>--master</td>
<td>yes</td>
<td>/</td>
<td>Specify spark cluster master url. Refer to <a href="https://spark.apache.org/docs/latest/submitting-applications.html#master-urls">master urls</a> for detail</td>
<td>e.g. <code>spark://23.195.26.187:7077</code></td>
</tr>
<tr>
<td>-c / --config </td>
<td>yes</td>
<td>/</td>
<td>The configuration file path in the context</td>
<td></td>
</tr>
<tr>
<td>-h / --hive</td>
<td>no</td>
<td>false</td>
<td>Used to specify whether to support Hive</td>
<td></td>
</tr>
<tr>
<td>-d / --directly</td>
<td>no</td>
<td>false</td>
<td>True for console insertion; <br/>false for sst import (TODO)</td>
<td></td>
</tr>
<tr>
<td>-D / --dry</td>
<td>no</td>
<td>false</td>
<td>Check if the configuration file is correct</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="performance">Performance<a class="headerlink" href="#performance" title="Permanent link">¶</a></h2>
<p>It takes about four minutes (i.e. 400k QPS) to input 100 million rows (each row contains three fields, each batch contains 64 rows) into three nodes (56 core, 250G memory, 10G network, SSD).</p>
<hr/>
<div class="md-source-date">
<small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">April 15, 2021</span>
</small>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a class="md-footer__link md-footer__link--prev" href="../import-csv-file/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Import .csv File
            </div>
</div>
</a>
<a class="md-footer__link md-footer__link--next" href="../../data-export/dump-tool/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Dump Tool
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2021 Nebula Graph
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
 ... <a class="link--pdf-download" download href="../../../../../pdf/NebulaGraph-en.pdf" title="PDF">download PDF</a></div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://github.com/vesoft-inc/nebula-docs" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": {"method": "mike"}}</script>
<script src="../../../../../assets/javascripts/bundle.7353b375.min.js"></script>
<script src="../../../../../js/version-select.js"></script>
</body>
</html>